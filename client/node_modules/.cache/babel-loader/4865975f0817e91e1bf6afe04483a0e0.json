{"ast":null,"code":"var _jsxFileName = \"/Users/Hansi/Desktop/gardener/client/src/components/InfoBox.js\";\nimport React, { useState, useContext, useEffect, Fragment } from \"react\";\nimport { GlobalContext } from \"../contexts/GlobalContext\";\nimport JsonActivities, { cleanActivities, findTimeDiff, cleanGlobalActivities } from \"../utilities/JsonActivities\";\nimport { graveyards, fieldActivities, globalActivities } from \"../utilities/GraveyardInfo\"; //brukes for å time feltskiftet med innlastning\n\nlet currentField = \"A\";\n\nconst InfoBox = ({\n  item\n}) => {\n  const {\n    value,\n    setValue\n  } = useContext(GlobalContext);\n  const [items, setItems] = useState([]);\n  const [rightItems, setRightItems] = useState([]);\n  useEffect(() => {\n    setValue(prev => {\n      return { ...prev,\n        field: \"A\"\n      };\n    }); //kanseller tidligere asynkrone kall her\n\n    setRightItems([]);\n    fetch(`http://localhost:5000/graveyards/${value.gy.id}`).then(response => response.json()).then(json => cleanGlobalActivities(json)).then(cleaned => setRightItems(cleaned));\n  }, [value.gy.id]);\n  useEffect(() => {\n    fetch(`http://localhost:5000/fields/${value.gy.id}/${value.field}`).then(response => response.json()).then(json => cleanActivities(json)).then(cleaned => setItems(cleaned));\n    currentField = value.field;\n  }, [value]); // index.js:1 Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function.\n  // in InfoBox (at App.js:47)\n  // in div (at App.js:45)\n  // in div (at App.js:36)   ***ved spamming av felter***\n\n  const left = fieldActivities.filter((ele, index) => {\n    return index < 3;\n  });\n  const right = fieldActivities.filter((ele, index) => {\n    return index > 2 && index < 6;\n  });\n  const showGlobalActivities = globalActivities.map((activity, index) => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"global-activity-icon\",\n    src: activity.img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, findTimeDiff(rightItems[index]), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"activity-span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"dager\")))));\n  const showActivities1 = left.map((activity, index) => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"left-activity-listitem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"activity-icon\",\n    src: activity.img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, findTimeDiff(items[index]), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"activity-span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"dager\")))));\n  const showActivities2 = right.map((activity, index) => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"right-activity-listitem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"activity-icon\",\n    src: activity.img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, findTimeDiff(items[index + 3]), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"activity-span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"dager\")))));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infobox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infobox-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"FELT: \", currentField), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infobox-left-items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"infobox-list1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, showActivities1), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"infobox-list2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, showActivities2))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infobox-right \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"ALLE FELT\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infobox-right-items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"infobox-list3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, showGlobalActivities))));\n};\n\nexport default InfoBox;","map":{"version":3,"sources":["/Users/Hansi/Desktop/gardener/client/src/components/InfoBox.js"],"names":["React","useState","useContext","useEffect","Fragment","GlobalContext","JsonActivities","cleanActivities","findTimeDiff","cleanGlobalActivities","graveyards","fieldActivities","globalActivities","currentField","InfoBox","item","value","setValue","items","setItems","rightItems","setRightItems","prev","field","fetch","gy","id","then","response","json","cleaned","left","filter","ele","index","right","showGlobalActivities","map","activity","img","showActivities1","showActivities2"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect, Fragment } from \"react\";\n\nimport { GlobalContext } from \"../contexts/GlobalContext\";\nimport JsonActivities, {\n  cleanActivities,\n  findTimeDiff,\n  cleanGlobalActivities,\n} from \"../utilities/JsonActivities\";\nimport {\n  graveyards,\n  fieldActivities,\n  globalActivities,\n} from \"../utilities/GraveyardInfo\";\n\n//brukes for å time feltskiftet med innlastning\n\nlet currentField = \"A\";\n\nconst InfoBox = ({ item }) => {\n  const { value, setValue } = useContext(GlobalContext);\n  const [items, setItems] = useState([]);\n  const [rightItems, setRightItems] = useState([]);\n\n  useEffect(() => {\n    setValue((prev) => {\n      return { ...prev, field: \"A\" };\n    });\n    //kanseller tidligere asynkrone kall her\n\n    setRightItems([]);\n\n    fetch(`http://localhost:5000/graveyards/${value.gy.id}`)\n      .then((response) => response.json())\n      .then((json) => cleanGlobalActivities(json))\n      .then((cleaned) => setRightItems(cleaned));\n  }, [value.gy.id]);\n\n  useEffect(() => {\n    fetch(`http://localhost:5000/fields/${value.gy.id}/${value.field}`)\n      .then((response) => response.json())\n      .then((json) => cleanActivities(json))\n      .then((cleaned) => setItems(cleaned));\n    currentField = value.field;\n  }, [value]);\n\n  // index.js:1 Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function.\n  // in InfoBox (at App.js:47)\n  // in div (at App.js:45)\n  // in div (at App.js:36)   ***ved spamming av felter***\n\n  const left = fieldActivities.filter((ele, index) => {\n    return index < 3;\n  });\n\n  const right = fieldActivities.filter((ele, index) => {\n    return index > 2 && index < 6;\n  });\n\n  const showGlobalActivities = globalActivities.map((activity, index) => (\n    <li>\n      <div>\n        <img className=\"global-activity-icon\" src={activity.img}></img>\n        <pre>\n          {findTimeDiff(rightItems[index])}{\" \"}\n          <span className=\"activity-span\">dager</span>\n        </pre>\n      </div>\n    </li>\n  ));\n\n  const showActivities1 = left.map((activity, index) => (\n    <li className=\"left-activity-listitem\">\n      <div>\n        <img className=\"activity-icon\" src={activity.img}></img>\n        <pre>\n          {findTimeDiff(items[index])}{\" \"}\n          <span className=\"activity-span\">dager</span>\n        </pre>\n      </div>\n    </li>\n  ));\n\n  const showActivities2 = right.map((activity, index) => (\n    <li className=\"right-activity-listitem\">\n      <div>\n        <img className=\"activity-icon\" src={activity.img}></img>\n        <pre>\n          {findTimeDiff(items[index + 3])}{\" \"}\n          <span className=\"activity-span\">dager</span>\n        </pre>\n      </div>\n    </li>\n  ));\n\n  return (\n    <div className=\"infobox\">\n      <div className=\"infobox-left\">\n        <h2>FELT: {currentField}</h2>\n        <div className=\"infobox-left-items\">\n          <ul className=\"infobox-list1\">{showActivities1}</ul>\n          <ul className=\"infobox-list2\">{showActivities2}</ul>\n        </div>\n      </div>\n      <div className=\"infobox-right \">\n        <h2>ALLE FELT</h2>\n        <div className=\"infobox-right-items\">\n          <ul className=\"infobox-list3\">{showGlobalActivities}</ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InfoBox;\n"]},"metadata":{},"sourceType":"module"}